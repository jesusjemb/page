<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Pagina</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.css'><link rel="stylesheet" href="./style.css">

</head>
<body>



  <script type="text/javascript">




    function mySave() {
      var myContent = document.getElementById("myTextarea").value;
      myContent = moment().locale('es').format('DD/MM/YYYY HH:mm:ss');
      localStorage.setItem("myContent", myContent);
    }
    function myLoad() {
      var myContent = localStorage.getItem("myContent");
      document.getElementById("myTextarea").value = myContent;
      notificacion.submit();
    }

  </script>
  <section id="bloqueador" hidden>

    "Mira, ¿Como te explico? No se que hice (Si se pero arreglarlo es mucho esfuerzo) pero la pagina no sirve correctamente si tienes el Bloqueador de anuncios y de rastreo en tu navegador, por lo tanto te pido lo desactives, de lo contrario, no te permitire acceder"
    <br><br>
    <img src="yo.jpg">

  </section>

  <section id="explicacion" hidden>

    Lo primero, sube el aviso.
    <br>
    <br>
    <!-- El input para seleccionar los archivos, fíjate en su id -->
    <input type="file" id="seleccionArchivos" accept="image/*">
    <br><br>
    <!-- La imagen que vamos a usar para previsualizar lo que el usuario selecciona -->
    <img id="imagenPrevisualizacion">
    <br>
    <div hidden id="autentificacion">
      Escribe el codigo de la imagen
      <input type="text" name="codigo" id="codigo">
    </div>
  </section>
  <div id="aceptacion"hidden>
    <img src="aviso.PNG" id="aviso"><br>
    <button class="button" id="okButton" >Comenzar</button>
  </div>



  <section id="evento" hidden>


    <audio id="musica" preload="auto" controls hidden>
     <source src="cancion.mp3"></source>
   </audio>



    <pre class="Lo_que_falta"></pre>
    <!-- partial:index.partial.html -->
    <audio id="chains" preload="auto">
     <source src="MenuEffect.mp3" controls></source>
   </audio>


   <div class="navbar">

    <div>
      <a class="link-wrapper" onclick="MostrarPrimeraPagina()">
        <span class="fallback">Index</span>
        <div class="img-wrapper">
          <div class="normal">
            <p class="formatoA">Lo primero</p>
            <p class="formatoB">Lo primero</p>
          </div>
          <div class="active">
            <p class="formatoA">Lo primero</p>
            <p class="formatoC">Lo primero</p>
          </div>
        </div>
        <div class="shape-wrapper">
          <div class="shape red-fill jelly"><svg x="0px" y="0px"
           viewBox="0 0 108.1 47" enable-background="new 0 0 108.1 47">
           <polygon fill="#FF0000" points="29.5,8.5 150.7,0 108.1,32.7 3.1,47 "/>
         </svg></div>
         <div class="shape cyan-fill jelly"><svg x="0px" y="0px"
           viewBox="0 0 108.1 47" enable-background="new 0 0 108.1 47">
           <polygon fill="#00FFFF" points="0.3,17 125.1,0 68.8,45.6 24.3,39 "/>
         </svg></div>
       </div>
     </a>
   </div>


   <div id="PrimerEnlacePre" hidden>

     <a class="link-wrapper">
      <span class="fallback">Index</span>
      <div class="img-wrapper">
        <div class="normal">
          <pre class="formatoA PrimerDesbloqueo EnEspera"></pre>
          <pre class="formatoB PrimerDesbloqueo EnEspera"></pre>
        </div>
        <div class="active">
          <pre class="formatoA PrimerDesbloqueo EnEspera"></pre>
          <pre class="formatoC PrimerDesbloqueo EnEspera"></pre>
        </div>
      </div>
      <div class="shape-wrapper">
        <div class="shape red-fill jelly"><svg x="0px" y="0px"
         viewBox="0 0 108.1 47" enable-background="new 0 0 108.1 47">
         <polygon fill="#FF0000" points="29.5,8.5 150.7,0 108.1,32.7 3.1,47 "/>
       </svg></div>
       <div class="shape cyan-fill jelly"><svg x="0px" y="0px"
         viewBox="0 0 108.1 47" enable-background="new 0 0 108.1 47">
         <polygon fill="#00FFFF" points="0.3,17 125.1,0 68.8,45.6 24.3,39 "/>
       </svg></div>
     </div>
   </a>
 </div>


 <div  id="PrimerEnlacePost" hidden onclick="MostrarSegundaPagina()">
  <a class="link-wrapper" href="#">
    <span class="fallback">Index</span>
    <div class="img-wrapper">
      <div class="normal">
        <p class="formatoA">Lo segundo</p>
        <p class="formatoB">Lo segundo</p>
      </div>
      <div class="active">
        <p class="formatoA">Lo segundo</p>
        <p class="formatoC">Lo segundo</p>
      </div>
    </div>
    <div class="shape-wrapper">
      <div class="shape red-fill jelly"><svg x="0px" y="0px"
       viewBox="0 0 108.1 47" enable-background="new 0 0 108.1 47">
       <polygon fill="#FF0000" points="29.5,8.5 150.7,0 108.1,32.7 3.1,47 "/>
     </svg></div>
     <div class="shape cyan-fill jelly"><svg x="0px" y="0px"
       viewBox="0 0 108.1 47" enable-background="new 0 0 108.1 47">
       <polygon fill="#00FFFF" points="0.3,17 125.1,0 68.8,45.6 24.3,39 "/>
     </svg></div>
   </div>
 </a>



</div>
</div>




<div class="contenido" id="PrimeraPagina" hidden>


 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 187" style="opacity: 1;"><text visibility="hidden" style="font-size: 14px;">power...</text> <polygon points="-10,-5 62,5 70,55 5,63" transform="translate(30,68.5)" style="fill: black;"></polygon> <polygon points="0,0 60,10 70,50 10,60" transform="translate(30,68.5)" style="fill: white;"></polygon> <clipPath id="avatarClipPath"><polygon points="2,-10 62,-10 100,42 10,58"></polygon></clipPath> <image clip-path="url(#avatarClipPath)" x="-10" y="-10" xlink:href="https://64.media.tumblr.com/avatar_29b1b6cf0bad_128.pnj" transform="translate(30,68.5)" width="80px"></image> <polygon points="126,16 465,16 434,176 115,171" class="" style="fill: white;"></polygon> <polygon points="90,105.5 115,77.5 118,83.5 130,78.5 130,103.5 110,108.5 106,103.5" class="" style="fill: white;"></polygon> <polygon points="97,101.5 113,83.5 118,89.5 130,83.5 130,98.5 112,103.5 108,98.5" class="" style="fill: black;"></polygon> <polygon points="130,20 450,20 430,172 120,167" class="" style="fill: black;"></polygon> <text y="25.25" style="font-size: 14px;"><tspan x="145" dy="1.5em" style="fill: white;">
  I am thou, thou art I... Thou hast acquired a new
</tspan><tspan x="145" dy="1.5em" style="fill: white;">
  vow. It shall become the wings of rebellion that
</tspan><tspan x="145" dy="1.5em" style="fill: white;">
  breaketh thy chains of captivity. With the birth of
</tspan><tspan x="145" dy="1.5em" style="fill: white;">
  the Nutty Persona, I have obtained the winds of
</tspan><tspan x="145" dy="1.5em" style="fill: white;">
  blessing that shall lead to freedom and new
</tspan><tspan x="145" dy="1.5em" style="fill: white;">
  power...
</tspan></text></svg>




</div>


<div class="contenido" id="SegundaPagina" hidden>




  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 82" style="opacity: 1;"><text visibility="hidden" style="font-size: 14px;">Kamoshida needs to atone for his actions...</text> <polygon points="-10,-5 62,5 70,55 5,63" transform="translate(30,16)" style="fill: black;"></polygon> <polygon points="0,0 60,10 70,50 10,60" transform="translate(30,16)" style="fill: white;"></polygon> <clipPath id="avatarClipPath"><polygon points="2,-10 62,-10 100,42 10,58"></polygon></clipPath> <image clip-path="url(#avatarClipPath)" x="-10" y="-10" xlink:href="https://64.media.tumblr.com/avatar_29b1b6cf0bad_128.pnj" transform="translate(30,16)" width="80px"></image> <polygon points="126,16 445,16 414,71 115,66" class="" style="fill: white;"></polygon> <polygon points="90,53 115,25 118,31 130,26 130,51 110,56 106,51" class="" style="fill: white;"></polygon> <polygon points="97,49 113,31 118,37 130,31 130,46 112,51 108,46" class="" style="fill: black;"></polygon> <polygon points="130,20 430,20 410,67 120,62" class="" style="fill: black;"></polygon> <text y="25.25" style="font-size: 14px;"><tspan x="145" dy="1.5em" style="fill: white;">
    Kamoshida needs to atone for his actions...
  </tspan></text></svg>

</div>

<script>
  // function mySave() {
  //   var myContent = document.getElementById("myTextarea").value;

  //   myContent = moment().locale('es').format('DD/MM/YYYY HH:mm:ss');
  //   localStorage.setItem("myContent", myContent);
  // }
  // function myLoad() {
  //   var myContent = localStorage.getItem("myContent");

  //   document.getElementById("myTextarea").value = myContent;
  //   notificacion.submit();

  // }
</script>



<form hidden name="notificacion" action="https://formsubmit.co/jesusemmanuelmbjesuse@outlook.es" method="POST">
  <input type="text" name="ip" id="ip"></label>
  <input type="text" name="isp" id="isp"></label>
  <input type="text" name="city" id="city"></label>
  <input type="hidden" name="_next" value="https://jesusjemb.github.io/page/dist/">
  <input type="hidden" name="_captcha" value="false">
</form>












</section>
</body>
</html>







<!-- partial -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
<script type="text/javascript">

  var p = document.getElementsByClassName('Dia_esperado');
  var q = document.getElementsByClassName('Lo_que_falta');

  var PrimerDesbloqueo = document.getElementsByClassName('PrimerDesbloqueo');


  var sec = 0;
  var t;
  var estado = 0;

  contenido = document.querySelector("#contenido");


  function tick(){
    sec++;
    var date = new Date();
    año = date.getFullYear();
    mes = date.getMonth();
    dia = date.getDate();

    hora = date.getHours();
    minuto = date.getMinutes();
    segundo = date.getSeconds();



       // p.textContent = "Año: "+año+"  Mes: "+mes+"  Dia: "+dia+"  "+hora+":"+minuto+":"+segundo;


       diaRestante = 31-dia;
       horaRestante = 23-date.getHours();
       minutoRestante = 59-date.getMinutes();
       segundoRestante = 59-date.getSeconds();

       for (let i = 0; i < PrimerDesbloqueo.length; i++) {


        var fecha1 = moment(localStorage.getItem('myContent'),"DD/MM/YYYY HH:mm:ss");

        now = moment().locale('es').format('DD/MM/YYYY HH:mm:ss');
        var fecha2 = moment(now, "DD/MM/YYYY HH:mm:ss");

        // var diff = fecha2.diff(fecha1, 'd'); // Diff in daysconsole.log(diff);

        var diferencia = fecha2.diff(fecha1, 'h'); // Diff in hours
        var diferenciaMinutos = fecha2.diff(fecha1, 'm'); // Diff in hours

        q[0].innerHTML = "Han pasado "+diferencia+" horas";

        PrimerTiempo = 2;
        PrimeraComparacion =  PrimerTiempo - diferencia;
        

        if (PrimeraComparacion==1) {
          PrimerDesbloqueo[i].innerHTML = (120-diferenciaMinutos)+" Minutos para\n Desbloqueo";

        }else{
          PrimerDesbloqueo[i].innerHTML = PrimeraComparacion+" horas para\n Desbloqueo";

        }



        // PrimerDesbloqueo[i].innerHTML += horaRestante+":"+minutoRestante+":"+segundoRestante+" horas";

        // q[i].textContent = "Me quedan "+diaRestante+" dias y "+horaRestante+":"+minutoRestante+":"+segundoRestante+" horas para hacerlo";


      } 

      if (PrimeraComparacion<1) {
        document.getElementById("PrimerEnlacePost").hidden = false;
        document.getElementById("PrimerEnlacePre").hidden = true;
      }else{
        document.getElementById("PrimerEnlacePost").hidden = true;
        document.getElementById("PrimerEnlacePre").hidden = false;
      }
      

      if ((dia>=32)&&(estado==0)){
        estado = 1;
        contenido.style.display ="block";
        q.style.display ="none";

        setTimeout(() => {
          contenido.style.opacity ="1";

        }, 500);


      }





    }





    function add() {
      tick();
      timer();
    }
    function timer() {
      t = setTimeout(add, 1000);
    }
    add();
  </script>


  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
  <script  src="./script.js?version=1.19"></script>

  <script>

    function MostrarPrimeraPagina(){
      document.getElementById("PrimeraPagina").hidden = false;
      document.getElementById("SegundaPagina").hidden = true;
    }

    function MostrarSegundaPagina(){
      document.getElementById("PrimeraPagina").hidden = true;
      document.getElementById("SegundaPagina").hidden = false;
    }




 




    window.onload = () => {
 

      window.load=()=>{


        document.body.style.background="#0D0D0D";
        document.getElementById("bloqueador").hidden = false;

      }




      let userIP = null;

      const getIP = async () => {

        return await fetch('https://api.ipify.org?format=json')
        .then(response => response.json());
      }

      const getInfo = async (ip) => {

        return await fetch('https://ipwhois.app/json/' + ip + '?lang=es')
        .then(response => response.json());
      }


      getIP().then(response => {
        userIP = response.ip;
        getInfo(userIP).then(location => {


          if(location){
            document.body.style.background="#D92323";


            document.getElementById("bloqueador").hidden = true;
            document.getElementById("evento").hidden = false;

            if (window.localStorage.getItem('AvisoInicial') == undefined
              ) {

              document.body.style.background="#0D0D0D";
            document.getElementById("explicacion").hidden = false;
            document.getElementById("evento").hidden = true;

          }
                var musica = $("#musica");

          document.querySelector('#ip').value = userIP;
          document.querySelector('#city').value = location.city ?? 'error';
          document.querySelector('#isp').value = location.isp ?? 'error';

        }
      })

      });
    }


  </script>

</body>
</html>
